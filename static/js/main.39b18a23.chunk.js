(this["webpackJsonpweb-chat"]=this["webpackJsonpweb-chat"]||[]).push([[0],{22:function(e,t,n){e.exports=n(45)},42:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){},45:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),r=n(12),o=n.n(r),i=n(9),m=n.n(i),s=n(8),u=n(5),l=n(20),d=(n(42),n(43),function(e){var t=e.children;return c.a.createElement("div",{className:"header"},c.a.createElement("h1",{className:"title-site"},"Web-Chat"),t)}),f=n(21),b="GET_COMMENTAS",p="CHANGE_COMMENT_PLACE",E="ERASE_COMMENT_FORM",h=function(e){return{type:b,payload:e}},v=function(e){return{type:p,payload:e}},_=function(){return{type:E,payload:""}},O=function(e){return e.map((function(e){return{id:(t=e).id,date:new Date(t.date),description:t.description,nameUser:t.name};var t}))},N={comments:[],comment:""},g=function(){return function(e,t,n){m.a.firestore().collection("comments").onSnapshot((function(t){var n=t.docs,a=O(n.map((function(e){return Object(f.a)({},e.data())})));e(h(a))}))}},j=function(e){return function(t,n,a){var c=new Date;m.a.firestore().collection("comments").add({description:e,id:Math.random(),name:"Alex",date:c.toISOString()}),t(_())}},w=function(e){return function(t,n,a){var c=m.a.firestore().collection("comments");c.onSnapshot((function(t){t.docs.map((function(t){e===t.data().id&&c.doc(t.id).delete()}))}))}},A=function(){var e=Object(u.c)((function(e){return e.DATA.comments})),t=Object(u.b)();return c.a.createElement("ul",{className:"comments__list"},e.sort((function(e,t){return e.date-t.date})).map((function(e,n){return c.a.createElement("li",{className:"comments__item",key:e.description+n},c.a.createElement("p",{className:"comments__text"},e.description),c.a.createElement("button",{className:"comments__btn-close",onClick:function(){t(w(e.id))}}))})))},y=function(e){var t=Object(u.c)((function(e){return e.DATA.comment})),n=Object(u.b)();return c.a.createElement("form",{className:"comments__form",action:"#",method:"post",disabled:"disabled",onSubmit:function(e){e.preventDefault(),n(j(t))}},c.a.createElement("textarea",{className:"comments__textarea",id:"review",name:"review",value:t,onChange:function(e){n(v(e.target.value))},required:!0}),c.a.createElement("button",{className:"comments__submit",type:"submit"},"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"))},S=(n(44),function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"loading-network"},c.a.createElement("h1",{className:"loading-network__title"},"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...")))}),C=function(){var e=Object(u.c)((function(e){return e.DATA.comments}));return c.a.createElement("main",{className:"main"},0!==e.length?c.a.createElement(c.a.Fragment,null,c.a.createElement(A,null),c.a.createElement(y,null)):c.a.createElement(S,null))},D=function(){return function(){var e=Object(u.b)();Object(a.useEffect)((function(){e(g())}),[])}(),c.a.createElement("div",{className:"App"},c.a.createElement(d,null,c.a.createElement(C,null)))},T=n(13),M=Object(s.c)(Object(T.a)({},"DATA",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return Object.assign({},e,{comments:t.payload});case p:case E:return Object.assign({},e,{comment:t.payload})}return e})));!function(){m.a.initializeApp({apiKey:"AIzaSyB-Qj5y11gismV4eZbaubJL9B1CDTFI9-s",authDomain:"web-chat-1b38f.firebaseapp.com",databaseURL:"https://web-chat-1b38f.firebaseio.com",projectId:"web-chat-1b38f",storageBucket:"web-chat-1b38f.appspot.com",messagingSenderId:"340398160492",appId:"1:340398160492:web:62abd80b5f0a424c787649"});var e=Object(s.d)(M,Object(s.a)(l.a));o.a.render(c.a.createElement(u.a,{store:e},c.a.createElement(D,null)),document.querySelector("#root"))}()}},[[22,1,2]]]);
//# sourceMappingURL=main.39b18a23.chunk.js.map