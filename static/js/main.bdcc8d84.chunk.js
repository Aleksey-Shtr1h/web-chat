(this["webpackJsonpweb-chat"]=this["webpackJsonpweb-chat"]||[]).push([[0],{22:function(e,t,n){e.exports=n(44)},42:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),o=n(11),m=n.n(o),s=n(7),i=n.n(s),r=n(8),u=n(12),l=n(19),b=(n(42),n(21)),f=(n(43),"GET_COMMENTAS"),p="CHANGE_COMMENT_PLACE",d=function(e){return{type:f,payload:e}},h=function(e){return{type:p,payload:e}},v={comments:{},comment:""},w={loadComments:function(){return function(e,t,n){i.a.database().ref("comments").once("value").then((function(e){return e.val()})).then((function(t){e(d(t))}))}},postComments:function(e){return function(t,n,a){var c=n().DATA.comments,o=i.a.database(),m=o.ref("comments"),s=m.push().key;(null!==c?m.child(s):o.ref("/comments/"+s)).set({comment:e,id:1,name:"Alex"}).then((function(e){t(w.loadComments())}))}}},A=Object(u.b)((function(e){return{comments:e.DATA.comments,comment:e.DATA.comment}}),(function(e){return{onChangeCommentPlace:function(t){e(h(t))},onSubmitReview:function(t){e(w.postComments(t))}}}))((function(e){e.comments;var t=e.comment,n=e.onChangeCommentPlace,o=e.onSubmitReview,m=Object(a.useState)(!1),s=Object(b.a)(m,2),r=s[0],u=s[1],l=[];return console.log(r),null!==r&&(l=Object.values(r)),Object(a.useEffect)((function(){setTimeout((function(){i.a.database().ref("comments").once("value").then((function(e){r!==e.val()?u(e.val()):u(!r)}))}),2e3)}),[r]),c.a.createElement("div",{className:"App"},l.map((function(e,t){return c.a.createElement("p",{key:e.comment+t},e.comment)})),c.a.createElement("form",{className:"reviews__form",action:"#",method:"post",disabled:"disabled",onSubmit:function(e){e.preventDefault(),o(t)}},c.a.createElement("textarea",{className:"reviews__textarea",id:"review",name:"review",placeholder:"Add",onChange:function(e){n(e.target.value)},required:!0}),c.a.createElement("button",{className:"reviews__submit",type:"submit"},"Submit")))})),C=n(20),y=Object(r.c)(Object(C.a)({},"DATA",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return Object.assign({},e,{comments:t.payload});case p:return Object.assign({},e,{comment:t.payload})}return e})));i.a.initializeApp({apiKey:"AIzaSyB-Qj5y11gismV4eZbaubJL9B1CDTFI9-s",authDomain:"web-chat-1b38f.firebaseapp.com",databaseURL:"https://web-chat-1b38f.firebaseio.com",projectId:"web-chat-1b38f",storageBucket:"web-chat-1b38f.appspot.com",messagingSenderId:"340398160492",appId:"1:340398160492:web:62abd80b5f0a424c787649"});!function(){var e=Object(r.d)(y,Object(r.a)(l.a));e.dispatch(w.loadComments()),m.a.render(c.a.createElement(u.a,{store:e},c.a.createElement(A,null)),document.querySelector("#root"))}()}},[[22,1,2]]]);
//# sourceMappingURL=main.bdcc8d84.chunk.js.map